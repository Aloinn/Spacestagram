"use strict";(self["webpackChunkshopify_frontend"]=self["webpackChunkshopify_frontend"]||[]).push([[397],{7397:(n,t,e)=>{e.r(t),e.d(t,{default:()=>Zn});var o=e(3673);const i={class:"container q-mx-auto"};function l(n,t,e,l,a,u){const r=(0,o.up)("auth-header"),s=(0,o.up)("nasa-feed"),c=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(c,{class:"q-mt-md fn-md"},{default:(0,o.w5)((()=>[(0,o._)("div",i,[(0,o.Wm)(r),(0,o.Wm)(s)])])),_:1})}var a=e(1959),u=e(5720);e(8511);function r(){const n=(0,a.XI)();return(0,o.m0)((t=>{const e=u.Z.auth().onAuthStateChanged((t=>{n.value=t}));t(e)})),n}var s=e(2323);const c={key:0},d={class:"row justify-between items-center q-my-md"},f={class:"fn-lg fn-w-light q-mb-none text-primary"},v={class:"row q-gutter-x-sm items-center"};function m(n,t,e,i,l,a){const u=(0,o.up)("q-img"),r=(0,o.up)("q-avatar"),m=(0,o.up)("logout-google-btn");return n.userAuth?((0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("div",d,[(0,o._)("div",f," Welcome "+(0,s.zw)(n.userAuth.displayName),1),(0,o._)("div",v,[(0,o.Wm)(r,{size:"40px"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{src:n.userAuth.photoURL},null,8,["src"])])),_:1}),(0,o.Wm)(m,{class:"text-white q-my-none"})])]),(0,o.WI)(n.$slots,"default")])):(0,o.kq)("",!0)}function g(n,t,e,i,l,a){const u=(0,o.up)("q-btn");return(0,o.wg)(),(0,o.j4)(u,(0,o.dG)({label:n.label||"Sign out",class:"bg-primary text-white",onClick:n.signOut,clickable:""},n.$attrs),null,16,["label","onClick"])}var p=function(n,t,e,o){function i(n){return n instanceof e?n:new e((function(t){t(n)}))}return new(e||(e=Promise))((function(e,l){function a(n){try{r(o.next(n))}catch(t){l(t)}}function u(n){try{r(o["throw"](n))}catch(t){l(t)}}function r(n){n.done?e(n.value):i(n.value).then(a,u)}r((o=o.apply(n,t||[])).next())}))};const h=(0,o.aZ)({name:"AuthGmailConnect",props:{label:String},setup(){const n=()=>p(this,void 0,void 0,(function*(){yield u.Z.auth().signOut()}));return{signOut:n}}});var w=e(4260),y=e(9892),q=e(7518),k=e.n(q);const Z=(0,w.Z)(h,[["render",g]]),b=Z;k()(h,"components",{QBtn:y.Z});const _=(0,o.aZ)({components:{LogoutGoogleBtn:b},setup(){const n=r();return{userAuth:n}}});var x=e(5096),D=e(4027);const A=(0,w.Z)(_,[["render",m]]),W=A;k()(_,"components",{QAvatar:x.Z,QImg:D.Z});const C={class:"row q-col-gutter-x-lg"},I={class:"column col-md-6 q-gutter-y-lg col-12"},z={class:"column col-6 q-gutter-y-lg gt-sm"};function Q(n,t,e,i,l,a){const u=(0,o.up)("nasa-card"),r=(0,o.up)("q-infinite-scroll");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(r,{onLoad:n.loadNasaInfo},{default:(0,o.w5)((()=>[(0,o._)("div",C,[(0,o._)("div",I,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.leftRow,(n=>((0,o.wg)(),(0,o.j4)(u,{key:n.date,info:n},null,8,["info"])))),128))]),(0,o._)("div",z,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.rightRow,(n=>((0,o.wg)(),(0,o.j4)(u,{key:n.date,info:n},null,8,["info"])))),128))])])])),_:1},8,["onLoad"])])}var S=e(52),j=e.n(S);const O={key:0},P=["alt","src"],R={key:1},G=["alt","src"],K={class:"q-pa-md"},N={class:"fn-w-bold fn-lg q-mb-none q-mt-md"},B=["datetime"],F={class:"q-mt-md fn-sm"},H={class:"row q-gutter-sm justify-end"},L={key:0,class:"fn-sm fn-w-light q-mr-sm"};function $(n,t,e,i,l,a){const u=(0,o.up)("q-btn"),r=(0,o.up)("q-card-section"),c=(0,o.up)("q-card");return n.info?((0,o.wg)(),(0,o.iD)("article",O,[(0,o.Wm)(c,{flat:"",bordered:"",class:"rounded-borders"},{default:(0,o.w5)((()=>["image"==n.info.media_type?((0,o.wg)(),(0,o.iD)("img",{key:0,alt:n.info.title,src:n.info.url},null,8,P)):((0,o.wg)(),(0,o.iD)("div",R,[(0,o._)("iframe",{alt:n.info.title,class:"fit video",src:n.info.url,frameborder:"0"},null,8,G)])),(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o._)("div",K,[(0,o._)("h2",N,(0,s.zw)(n.info.title),1),(0,o._)("time",{datetime:n.info.date,class:"fn-w-light text-grey-6 fn-sm"},(0,s.zw)(n.info.date.replace(/-/gi,"/")),9,B),(0,o._)("p",F,(0,s.zw)(n.info.explanation),1),(0,o._)("div",H,[(0,o.Wm)(u,{onClick:n.like,outline:"","icon-right":n.liked?"favorite":"favorite_border",color:"pink",size:"md"},{default:(0,o.w5)((()=>[n.likes.length?((0,o.wg)(),(0,o.iD)("div",L,(0,s.zw)(n.likes.length),1)):(0,o.kq)("",!0)])),_:1},8,["onClick","icon-right"]),(0,o.Wm)(u,{outline:"",href:n.info.hdurl,icon:"share",color:"primary",size:"md"},null,8,["href"])])])])),_:1})])),_:1})])):(0,o.kq)("",!0)}var T=e(5636);e(8064);const U=(0,o._)("h2",{class:"fn-lg fn-w-bold q-mb-none"},"Beam me up!",-1),V=(0,o._)("p",{class:"q-my-md"}," Login with a Google Account to heart your favourite space images ",-1);function Y(n,t,e,i,l,a){const u=(0,o.up)("login-google-btn"),r=(0,o.up)("q-card"),s=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.j4)(s,{ref:"dialogRef"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"q-px-lg q-py-md"},{default:(0,o.w5)((()=>[U,V,(0,o.Wm)(u,{onAuthed:t[0]||(t[0]=t=>n.onDialogOK()),class:"text-white q-my-md q-py-sm fit",outline:""})])),_:1})])),_:1},512)}var M=e(1701);function X(n,t,e,i,l,a){const u=(0,o.up)("q-btn");return(0,o.wg)(),(0,o.j4)(u,(0,o.dG)({dark:"",label:n.label||"Sign in with Google",class:"bg-primary text-white",onClick:n.signIn,clickable:""},n.$attrs),null,16,["label","onClick"])}var E=function(n,t,e,o){function i(n){return n instanceof e?n:new e((function(t){t(n)}))}return new(e||(e=Promise))((function(e,l){function a(n){try{r(o.next(n))}catch(t){l(t)}}function u(n){try{r(o["throw"](n))}catch(t){l(t)}}function r(n){n.done?e(n.value):i(n.value).then(a,u)}r((o=o.apply(n,t||[])).next())}))};const J=(0,o.aZ)({props:{label:String},emits:["authed"],setup(n,{emit:t}){const e=new u.Z.auth.GoogleAuthProvider,o=()=>E(this,void 0,void 0,(function*(){yield u.Z.auth().signInWithPopup(e),t("authed",!0)}));return{signIn:o}}}),nn=(0,w.Z)(J,[["render",X]]),tn=nn;k()(J,"components",{QBtn:y.Z});const en=(0,o.aZ)({components:{LoginGoogleBtn:tn},setup(){const{dialogRef:n,onDialogOK:t}=(0,M.Z)();return{dialogRef:n,onDialogOK:t}}});var on=e(5513),ln=e(151);const an=(0,w.Z)(en,[["render",Y]]),un=an;k()(en,"components",{QDialog:on.Z,QCard:ln.Z});var rn=e(8825),sn=function(n,t,e,o){function i(n){return n instanceof e?n:new e((function(t){t(n)}))}return new(e||(e=Promise))((function(e,l){function a(n){try{r(o.next(n))}catch(t){l(t)}}function u(n){try{r(o["throw"](n))}catch(t){l(t)}}function r(n){n.done?e(n.value):i(n.value).then(a,u)}r((o=o.apply(n,t||[])).next())}))};const cn=(0,o.aZ)({props:{info:Object},setup(n){var t;const e=T.Z.firestore(),o=(0,a.iH)([]),i=e.collection("likes").doc(`${(null===(t=null===n||void 0===n?void 0:n.info)||void 0===t?void 0:t.date)||""}`);i.onSnapshot((n=>{var t,e;o.value=null!==(e=null===(t=n.data())||void 0===t?void 0:t.likes)&&void 0!==e?e:[]}));const l=r(),u=(0,rn.Z)(),s=()=>sn(this,void 0,void 0,(function*(){var n,t,e,a;(null===l||void 0===l?void 0:l.value)?yield i.set({likes:(null===(n=o.value)||void 0===n?void 0:n.includes((null===(t=null===l||void 0===l?void 0:l.value)||void 0===t?void 0:t.uid)||""))?T.Z.firestore.FieldValue.arrayRemove(null===(e=null===l||void 0===l?void 0:l.value)||void 0===e?void 0:e.uid):T.Z.firestore.FieldValue.arrayUnion(null===(a=null===l||void 0===l?void 0:l.value)||void 0===a?void 0:a.uid)},{merge:!0}):u.dialog({component:un})})),c=(0,a.Fl)((()=>{var n,t,e;return null!==(e=null===(n=null===o||void 0===o?void 0:o.value)||void 0===n?void 0:n.includes((null===(t=null===l||void 0===l?void 0:l.value)||void 0===t?void 0:t.uid)||"ANON"))&&void 0!==e&&e}));return{like:s,likes:o,liked:c,userAuth:l}}});var dn=e(5589);const fn=(0,w.Z)(cn,[["render",$]]),vn=fn;k()(cn,"components",{QCard:ln.Z,QCardSection:dn.Z,QBtn:y.Z});var mn=function(n,t,e,o){function i(n){return n instanceof e?n:new e((function(t){t(n)}))}return new(e||(e=Promise))((function(e,l){function a(n){try{r(o.next(n))}catch(t){l(t)}}function u(n){try{r(o["throw"](n))}catch(t){l(t)}}function r(n){n.done?e(n.value):i(n.value).then(a,u)}r((o=o.apply(n,t||[])).next())}))};const gn=(0,o.aZ)({components:{NasaCard:vn},setup(){const n=(0,a.iH)([]),t=(new Date).getDate()%2,e=n=>{const t=new Date;return t.setDate(t.getDate()-n),t.toISOString().split("T")[0]},o=(t,o)=>mn(this,void 0,void 0,(function*(){const i=yield j().get(`https://api.nasa.gov/planetary/apod?date=${e(t)}&api_key=n456AUusbyyIwzzavMoVnUhpzb77qx4TTKKTt0cS`);n.value.push(i.data),o()})),i=(0,rn.Z)(),l=(0,a.Fl)((()=>i.screen.lt.md?n.value:n.value.filter(((n,t)=>t%2==0)))),u=(0,a.Fl)((()=>n.value.filter(((n,t)=>t%2==1))));return{nasaInfo:n,loadNasaInfo:o,todayPolarity:t,leftRow:l,rightRow:u}}});var pn=e(2729);const hn=(0,w.Z)(gn,[["render",Q],["__scopeId","data-v-6603271d"]]),wn=hn;k()(gn,"components",{QInfiniteScroll:pn.Z});const yn=(0,o.aZ)({components:{AuthHeader:W,NasaFeed:wn},name:"HomePage",setup(){const n=r();return{userAuth:n}}});var qn=e(4379);const kn=(0,w.Z)(yn,[["render",l]]),Zn=kn;k()(yn,"components",{QPage:qn.Z})}}]);